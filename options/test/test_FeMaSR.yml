name: OmniLens-FeMaSR-test-yourdata
model_type: FeMaSRModel
scale: 1
num_gpu: 1  # set num_gpu: 0 for cpu mode
manual_seed: 0

datasets:

  test_1:
    name: your_data
    type: PairedImageDataset
    dataroot_gt: /path/your_data/gt
    dataroot_lq:  /path/your_data/test
    # dataroot_fov: /home/strange/workspace/strange/dataset/MOS2K/fov_input.pth
    io_backend:
      type: disk



network_g:
  type: FeMaSRNet 
  # type: VQOACNet_fusion
  gt_resolution: 256
  norm_type: 'gn'
  act_type: 'silu'
  scale_factor: 1
  codebook_params:
    - [32, 1024, 512]

  LQ_stage: true
  use_weight: false
  use_quantize: true
  # fusion_mode: 'concat'
  weight_alpha: -1.0
  frozen_module_keywords: ['quantize', 'decoder_group', 'after_quant_group', 'out_conv']
  # frozen_module_keywords: ['quantize', 'decoder_group', 'after_quant_group', 'out_conv']




# path
path:
  pretrain_network_hq: pretrain/priors/HQP_v2.pth
  pretrain_network_g: pretrain/pretrained/FeMaSR_AODLib_EAOD.pth
  # param_key_g: params
  strict_load: false

# validation settings
val:
  save_img: false
  suffix: ~  # add suffix to saved images, if None, use exp name
  metrics:
    # score: # metric name, can be arbitrary
    #   type: calculate_score
    #   crop_border: 0
    #   test_y_channel: false
    psnr: # metric name, can be arbitrary
      type: calculate_psnr
      crop_border: 0
      test_y_channel: false
    ssim: # metric name, can be arbitrary
      type: calculate_ssim
      crop_border: 0
      test_y_channel: false
    lpips: # metric name, can be arbitrary
      type: calculate_lpips
      crop_border: 0
      test_y_channel: false
 